---
import Layout from "./WithHeader.astro";
import { DEFAULT_LOCALE } from "@/utils/i18n";
import type { DefaultLayoutProps } from "./types";
import { slugToCanonical } from "@/utils/content";

type Props = DefaultLayoutProps;

const {
  title,
  description,
  fullHeight,
  translations,
  image,
  ogType,
  lang = DEFAULT_LOCALE,
  class: className,
  ["class:list"]: classList,
  canonical,
} = Astro.props;

const { origin } = Astro.url;
---

<Layout
  canonical={canonical}
  lang={lang}
  title={title}
  class:list={[className, classList]}
  description={description}
  fullHeight={fullHeight}
  image={image}
  ogType={ogType}
  translations={translations}
>
  <Fragment slot="head">
    <slot name="head" />
  </Fragment>
  <slot />
</Layout>
