---
import Basic from "./Basic.astro";

import Header from "@/components/layout/Header.astro";
import { DEFAULT_LOCALE } from "@/utils/i18n";
import type { DefaultLayoutProps } from "./types";

interface Props extends DefaultLayoutProps {
  noHeaderSpacing?: boolean;
}

const {
  title,
  description,
  fullHeight,
  canonical,
  image,
  ogType,
  translations,
  lang = DEFAULT_LOCALE,
  class: className,
  ["class:list"]: classList,
  noHeaderSpacing,
} = Astro.props;
---

<Basic
  canonical={canonical}
  lang={lang}
  title={title}
  class:list={[className, classList]}
  description={description}
  fullHeight={fullHeight}
  image={image}
  ogType={ogType}
  translations={translations}
>
  <Fragment slot="head">
    <slot name="head" />
  </Fragment>
  <Header lang={lang} />
  <!-- This is a hack to prevent the header from overlapping the content -->
  {!noHeaderSpacing && <div aria-hidden="true" class="h-20" />}
  <slot />
</Basic>
