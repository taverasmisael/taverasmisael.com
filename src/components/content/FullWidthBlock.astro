---
import type { AstroBuiltinAttributes } from "astro";
interface Props {
  withContainer?: boolean;
  class?: string;
  containerClass?: AstroBuiltinAttributes["class:list"];
  "class:list"?: AstroBuiltinAttributes["class:list"];
  resetAt?: "sm" | "md" | "lg" | "xl" | "2xl";
}
const { class: className, ["class:list"]: classList, withContainer, containerClass, resetAt } = Astro.props;
const smClassReset = "sm:static sm:left-auto sm:w-full sm:min-w-fit";
const mdClassReset = "md:static md:left-auto md:w-full md:min-w-fit";
const lgClassReset = "lg:static lg:left-auto lg:w-full lg:min-w-fit";
const xlClassReset = "xl:static xl:left-auto xl:w-full xl:min-w-fit";
const xxlClassReset = "2xl:static 2xl:left-auto 2xl:w-full 2xl:min-w-fit";

const resets = {
  [smClassReset]: resetAt === "sm",
  [mdClassReset]: resetAt === "md",
  [lgClassReset]: resetAt === "lg",
  [xlClassReset]: resetAt === "xl",
  [xxlClassReset]: resetAt === "2xl",
};
---

<section
  class="relative left-[calc(-50vw_+_50%)] w-screen min-w-full px-8 py-12"
  class:list={[className, classList, resets]}
>
  {
    withContainer ? (
      <div class="container mx-auto" class:list={containerClass}>
        <slot />
      </div>
    ) : (
      <slot />
    )
  }
</section>
